/* 1. IMPORTAÇÃO E VARIÁVEIS */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@700&display=swap');
:root {
    --cor-vinho: #902C3E;
    --cor-rosa-suave: #F4A9A2;
    --cor-creme-fundo: #F5EFE9;
    --cor-grafite-texto: #333333;
    --cor-branco: #FFFFFF;
    --sombra-suave: 0 4px 15px rgba(0, 0, 0, 0.08);
    --sombra-elevada: 0 8px 25px rgba(0, 0, 0, 0.12);
    --sombra-modal: 0 10px 30px rgba(0, 0, 0, 0.15);
    --fonte-titulo: 'Playfair Display', serif;
    --fonte-corpo: 'Montserrat', sans-serif;
}

/* 2. ESTILOS GLOBAIS E RESET */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: var(--fonte-corpo);
    background-color: var(--cor-branco);
    color: var(--cor-grafite-texto);
    line-height: 1.6;
    overflow-x: hidden;
}
body.modal-open { overflow: hidden; } /* Para impedir o scroll da página quando um modal está aberto */

.container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
a { text-decoration: none; color: inherit; transition: opacity 0.3s ease; }
a:hover { opacity: 0.7; }
.section-title { font-family: var(--fonte-titulo); font-size: 36px; color: var(--cor-vinho); text-align: center; margin-bottom: 10px; }
.section-subtitle { text-align: center; max-width: 600px; margin: 0 auto 50px auto; opacity: 0.8; }
.content-section { padding: 80px 0; }
.bg-light { background-color: var(--cor-creme-fundo); }

/* 3. CABEÇALHO E NAVEGAÇÃO */
.header {
    background-color: rgba(255, 255, 255, 0.95); /* Fundo branco semi-transparente */
    backdrop-filter: blur(5px); /* Efeito de desfoque para o que está por trás */
    padding: 20px 0;
    border-bottom: 2px solid var(--cor-creme-fundo);
    position: sticky; /* Fixa o cabeçalho no topo ao rolar */
    top: 0;
    z-index: 1000;
}
.header .container { display: flex; justify-content: space-between; align-items: center; }
.logo { font-family: var(--fonte-titulo); font-size: 24px; color: var(--cor-vinho); }
.logo span { font-family: var(--fonte-corpo); font-size: 16px; color: var(--cor-rosa-suave); }
.nav-links { display: flex; gap: 25px; }
.nav-links a { 
    font-weight: 500; 
    cursor: pointer; 
    padding-bottom: 5px; 
    border-bottom: 2px solid transparent; 
    transition: border-color 0.3s; 
}
.nav-links a:hover { border-color: var(--cor-rosa-suave); opacity: 1; }
.hamburger { display: none; cursor: pointer; }
.hamburger div { width: 25px; height: 3px; background-color: var(--cor-vinho); margin: 5px 0; transition: 0.4s; }

/* 4. SEÇÃO HERO */
.home-hero {
    height: 85vh; /* Altura da viewport */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--cor-branco);
    background: linear-gradient(rgba(40, 0, 0, 0.5), rgba(40, 0, 0, 0.5)), /* Escurece a imagem de fundo */
                url('https://images.unsplash.com/photo-1507925921958-b49ca472c847?q=80&w=1740') no-repeat center center/cover;
}
.home-hero h1 { font-size: 56px; line-height: 1.2; color: var(--cor-branco); }
.home-hero p { font-size: 18px; max-width: 600px; margin: 20px auto 30px auto; opacity: 0.9; }
.cta-button {
    display: inline-block; 
    background-color: var(--cor-vinho); 
    color: var(--cor-branco) !important; /* !important para sobrescrever o `color: inherit;` do global a */
    padding: 15px 35px; 
    border-radius: 50px; 
    font-weight: 700;
    text-transform: uppercase; 
    letter-spacing: 1px; 
    box-shadow: var(--sombra-suave);
    transition: background-color 0.3s, transform 0.2s, opacity 0.3s ease; /* Adicionado opacity aqui */
}
.cta-button:hover { 
    background-color: var(--cor-rosa-suave); 
    color: var(--cor-vinho) !important; 
    transform: translateY(-2px); 
    opacity: 1;
}

/* 5. SEÇÃO DE PRÓXIMOS EVENTOS (Dinâmica) & VERSÍCULO DO DIA */
.dual-column-container { 
    display: flex; 
    gap: 40px; 
    align-items: flex-start; /* Alinha os itens ao topo */
}
.events-widget, .verse-widget { flex: 1; } /* Faz com que as colunas ocupem espaço igualmente */

.events-widget { 
    background: var(--cor-branco); 
    padding: 30px; 
    border-radius: 12px; 
    box-shadow: var(--sombra-elevada); 
}
#next-events-list { 
    display: flex; 
    flex-direction: column; 
    gap: 20px; 
    margin-top: 20px; 
}
.event-item-widget { 
    display: flex; 
    gap: 15px; 
    align-items: center; 
}
.event-item-widget .date { 
    background-color: var(--cor-creme-fundo); 
    color: var(--cor-vinho); 
    border-radius: 8px; 
    padding: 10px; 
    text-align: center; 
    min-width: 60px; /* Garante que a data tenha um tamanho mínimo */
}
.event-item-widget .date span { 
    display: block; 
    font-weight: 700; 
    font-size: 22px; 
}
.event-item-widget .date small { 
    font-size: 12px; 
    text-transform: uppercase; 
}
.event-item-widget .info strong { display: block; font-weight: 700; }
.event-item-widget .info span { opacity: 0.8; font-size: 14px; }

.widget-button { 
    display: block; 
    margin-top: 25px; 
    text-align: center; 
    background-color: var(--cor-creme-fundo); 
    padding: 12px; 
    border-radius: 8px; 
    font-weight: 700; 
    color: var(--cor-vinho); 
    border: none; 
    width: 100%; 
    cursor: pointer; 
}

.verse-widget { text-align: center; padding: 30px; }
.verse-widget blockquote { 
    font-family: var(--fonte-titulo); 
    font-size: 28px; 
    line-height: 1.4; 
    margin-bottom: 20px; 
    border-left: 4px solid var(--cor-rosa-suave); 
    padding-left: 20px; 
    text-align: left; 
}
.verse-widget cite { font-style: normal; font-weight: 700; color: var(--cor-vinho); }

/* 6. SEÇÃO MINISTÉRIOS */
.ministerios-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
.ministerio-card { 
    background-color: var(--cor-branco); 
    text-align: center; 
    padding: 40px 25px; 
    border-radius: 12px; 
    box-shadow: var(--sombra-suave); 
    transition: transform 0.3s, box-shadow 0.3s; 
    cursor: pointer; 
}
.ministerio-card:hover { transform: translateY(-8px); box-shadow: var(--sombra-elevada); }
.ministerio-card i { font-size: 40px; color: var(--cor-vinho); margin-bottom: 20px; }
.ministerio-card h3 { color: var(--cor-vinho); font-weight: 700; font-size: 20px; margin-bottom: 10px; }
.ministerio-card p { font-size: 15px; }

/* 7. SEÇÃO MISSÕES */
.missoes-grid { display: grid; grid-template-columns: 1fr; gap: 40px; }
.missao-card { 
    display: flex; 
    background: var(--cor-branco); 
    border-radius: 12px; 
    overflow: hidden; 
    box-shadow: var(--sombra-elevada); 
    transition: transform 0.3s; 
    cursor: pointer; 
}
.missao-card:hover { transform: scale(1.02); }
.missao-card img { width: 40%; object-fit: cover; }
.missao-content { padding: 40px; }
.missao-content h3 { font-family: var(--fonte-titulo); font-size: 28px; color: var(--cor-vinho); }
/* Inverte a ordem para o segundo card (e pares) */
.missao-card:nth-child(even) { flex-direction: row-reverse; }

/* 8. SEÇÃO CONTATO */
.contato-wrapper { display: flex; gap: 40px; margin-top: 50px; }
.contato-info { flex: 1; }
.info-item { display: flex; align-items: flex-start; gap: 20px; margin-bottom: 25px; }
.info-item i { font-size: 24px; color: var(--cor-vinho); width: 30px; text-align: center; margin-top: 5px; }
.info-item strong { display: block; font-weight: 700; font-size: 18px; margin-bottom: 3px; }
.info-item p { margin: 0; }
.map-container { 
    flex: 1.5; 
    border-radius: 12px; 
    overflow: hidden; 
    box-shadow: var(--sombra-elevada); 
    min-height: 350px; 
}
.map-container iframe { width: 100%; height: 100%; border: 0; }

/* 9. RODAPÉ */
.footer { 
    background-color: var(--cor-vinho); 
    color: var(--cor-creme-fundo); 
    padding: 50px 0; 
    text-align: center; 
}
.footer .logo span { color: var(--cor-rosa-suave); }

/* 10. BOTÃO VOLTAR AO TOPO */
.scroll-to-top {
    position: fixed; 
    bottom: 30px; 
    right: 30px; 
    background-color: var(--cor-vinho); 
    color: var(--cor-branco);
    width: 50px; 
    height: 50px; 
    border-radius: 50%; 
    display: none; /* Escondido por padrão, visível com JS */
    align-items: center; 
    justify-content: center;
    font-size: 20px; 
    cursor: pointer; 
    z-index: 999; 
    box-shadow: var(--sombra-suave);
    opacity: 0; /* Começa transparente */
    transition: opacity 0.3s ease, transform 0.3s ease; /* Transição suave para aparecer/desaparecer */
}
.scroll-to-top:hover { transform: translateY(-3px); }
.scroll-to-top.visible { display: flex; opacity: 1; } /* Classe adicionada por JS para torná-lo visível */

/* 11. MODAIS (Gerais, Informação e Calendário) */
.modal-overlay {
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(51, 51, 51, 0.8); /* Fundo escuro com transparência */
    backdrop-filter: blur(5px); /* Efeito de desfoque */
    display: none; 
    align-items: center; 
    justify-content: center; 
    z-index: 2000;
    padding: 20px; 
    opacity: 0; 
    transition: opacity 0.3s ease;
}
.modal-content { /* Usado para o modal de informação de ministérios/missões */
    background: var(--cor-branco); 
    padding: 40px; 
    border-radius: 12px;
    max-width: 600px; 
    width: 100%; 
    position: relative;
    transform: scale(0.95); /* Começa um pouco menor para animação de entrada */
    transition: transform 0.3s ease;
    box-shadow: var(--sombra-modal);
    text-align: left; /* Garante que o conteúdo textual esteja alinhado à esquerda */
}
.modal-overlay.active { display: flex; opacity: 1; }
.modal-overlay.active .modal-content, 
.modal-overlay.active .calendar-modal-content { 
    transform: scale(1); /* Animação de entrada */
}
.modal-close {
    position: absolute; 
    top: 15px; 
    right: 20px; 
    font-size: 30px;
    color: var(--cor-grafite-texto); 
    cursor: pointer; 
    border: none; 
    background: none; 
    z-index: 10;
}
#modal-title { font-family: var(--fonte-titulo); color: var(--cor-vinho); font-size: 28px; }
#modal-description { margin-bottom: 0; } /* Ajuste para o espaçamento antes do botão de ação */

/* Estilos para o container e o botão de ação dentro do modal de informação */
#modal-link-container {
    margin-top: 30px;
    text-align: center; /* Centraliza o botão dentro do container */
}
.modal-action-button {
    display: inline-block;
    background-color: var(--cor-vinho);
    color: var(--cor-branco) !important;
    padding: 12px 30px;
    border-radius: 50px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-decoration: none;
    box-shadow: var(--sombra-suave);
    transition: background-color 0.3s, transform 0.2s;
}
.modal-action-button:hover {
    background-color: var(--cor-rosa-suave);
    color: var(--cor-vinho) !important;
    transform: translateY(-2px);
    opacity: 1;
}

/* Estilos específicos para o modal de calendário */
#calendar-modal .modal-close { color: var(--cor-vinho); } /* Cor do X no modal de calendário */
.calendar-modal-content {
    background-color: var(--cor-branco); 
    max-width: 950px; 
    width: 100%;
    display: flex; 
    gap: 30px; 
    padding: 30px;
    border-radius: 12px;
    box-shadow: var(--sombra-modal); 
    transform: scale(0.95); 
    transition: transform 0.3s ease; 
    position: relative;
}
.calendar-main { flex: 1.5; min-width: 400px; }
.calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.calendar-header h2 { font-size: 28px; margin: 0; color: var(--cor-vinho); font-family: var(--fonte-titulo); }
.calendar-nav-btn {
    background: none; border: none; font-size: 18px; 
    color: var(--cor-vinho); cursor: pointer; padding: 10px; 
    border-radius: 50%; transition: background-color 0.2s;
}
.calendar-nav-btn:hover { background-color: var(--cor-creme-fundo); }
.weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; margin-bottom: 10px; }
.weekdays div { text-align: center; font-weight: 700; color: var(--cor-rosa-suave); font-size: 14px; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
/* Células dos dias no calendário */
.day-cell {
    display: flex; align-items: center; justify-content: center; 
    font-weight: 500;
    aspect-ratio: 1 / 1; /* Mantém as células quadradas */
    cursor: pointer;
    border-radius: 50%;
    transition: all 0.2s ease;
    position: relative;
    border: 2px solid transparent; /* Borda transparente por padrão */
    background-color: transparent;
}
.day-cell:not(.prev-next-month-day):hover { border-color: var(--cor-rosa-suave); }
.day-cell.prev-next-month-day { color: #ccc; cursor: default; } /* Dias do mês anterior/próximo */
.day-cell.current-day { 
    border-color: var(--cor-vinho); 
    font-weight: 700; 
}
.day-cell.selected-day { 
    background-color: var(--cor-vinho); 
    color: var(--cor-branco); 
    border-color: var(--cor-vinho); 
    transform: scale(1.05); 
}
.day-cell.event-day::after { /* Indicador de evento no dia */
    content: ''; 
    position: absolute; 
    bottom: 8%; 
    left: 50%; 
    transform: translateX(-50%); 
    width: 6px; 
    height: 6px; 
    border-radius: 50%; 
    background-color: var(--cor-rosa-suave); 
}
.day-cell.selected-day.event-day::after { background-color: var(--cor-branco); } /* Muda a cor do indicador se o dia estiver selecionado */

/* Detalhes do evento no modal de calendário */
#event-details-wrapper { 
    flex: 1; 
    min-width: 300px; 
    background-color: var(--cor-creme-fundo); 
    border-radius: 8px; 
    padding: 25px; 
    display: flex; 
    flex-direction: column; 
}
#event-details-title { 
    font-family: var(--fonte-titulo); 
    font-size: 22px; 
    margin-bottom: 15px; 
    border-bottom: 2px solid var(--cor-rosa-suave); 
    padding-bottom: 10px; 
    color: var(--cor-vinho); 
}
#event-details { 
    flex-grow: 1; 
    overflow-y: auto; 
    padding-right: 10px; /* Espaço para a barra de rolagem */
}
#event-details .event-item { 
    display: flex; align-items: flex-start; 
    gap: 15px; 
    margin-bottom: 15px; 
    font-size: 15px; 
}
#event-details .event-icon { 
    font-size: 18px; 
    color: var(--cor-rosa-suave); 
    width: 20px; 
    text-align: center; 
    margin-top: 2px; 
}
#event-details .event-info strong { display: block; color: var(--cor-vinho); font-weight: 700; }
#event-details .event-info span { font-size: 14px; opacity: 0.8; }

/* 12. ANIMAÇÕES E RESPONSIVIDADE */
/* Animação para elementos que aparecem ao rolar */
.fade-in { 
    opacity: 0; 
    transform: translateY(20px); 
    transition: opacity 0.6s ease-out, transform 0.6s ease-out; 
}
.fade-in.visible { 
    opacity: 1; 
    transform: translateY(0); 
}

/* Media Queries para Responsividade */
@media (max-width: 920px) {
    /* Em telas menores, altera o layout de colunas para linhas */
    .dual-column-container, 
    .contato-wrapper, 
    .missao-card, 
    .missao-card:nth-child(even) { 
        flex-direction: column; 
    }
    .missao-card img { width: 100%; height: 250px; } /* Imagens das missões ocupam 100% da largura */
    
    /* Ajuste para o modal de calendário em telas menores */
    .calendar-modal-content { 
        flex-direction: column; 
        max-height: 90vh; 
        overflow-y: auto; /* Permite rolagem dentro do modal se o conteúdo for grande */
    }
}

@media (max-width: 768px) {
    /* Menu Hamburguer e navegação responsiva */
    .nav-links {
        position: fixed; 
        top: 80px; 
        right: 20px; 
        width: 250px; /* Largura do menu flutuante */
        background-color: var(--cor-branco); 
        flex-direction: column;
        padding: 15px; 
        border-radius: 8px; 
        box-shadow: var(--sombra-modal); 
        opacity: 0; 
        transform: translateY(-10px) scale(0.98); /* Escondido e um pouco menor */
        transform-origin: top right; /* Animação a partir do canto superior direito */
        transition: opacity 0.3s ease, transform 0.3s ease; 
        pointer-events: none; /* Impede cliques quando invisível */
    }
    .nav-links.active { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
        pointer-events: auto; /* Permite cliques quando visível */
    }
    .nav-links a { 
        margin: 10px; 
        padding: 10px; 
        border-radius: 6px; 
        text-align: left; 
        font-size: 16px; 
        transition: background-color 0.2s ease; 
        border-bottom: none; /* Remove a borda inferior em itens de menu mobile */
    }
    .nav-links a:hover { 
        background-color: var(--cor-creme-fundo); 
        opacity: 1; 
        border-color: transparent; /* Garante que a borda não apareça no hover */
    }
    .hamburger { display: block; z-index: 1001; } /* Exibe o ícone do hamburger */
    .hamburger.toggle .line1 { transform: rotate(-45deg) translate(-5px, 6px); }
    .hamburger.toggle .line2 { opacity: 0; }
    .hamburger.toggle .line3 { transform: rotate(45deg) translate(-5px, -6px); }

    .home-hero { height: 70vh; } /* Reduz a altura da seção hero em mobile */
    .home-hero h1 { font-size: 36px; } /* Reduz o tamanho do título principal */
    
    /* Ajuste do modal de calendário em telas muito pequenas */
    .calendar-main { min-width: unset; width: 100%; }
}